### TCP、UDP 属于传输层协议

1. 以太网数据包（packet）= 以太网表头 + IP表头 + TCP标头 + Data数据包 以太网数据包的负载是1500字节，TCP 数据包的负载在1400字节左右

2. TCP 数据会给每个包进行编号（SEQ），以便操作系统校验还原成原始文件转交给应用程序。

### 慢启动和 ACK

接收方每接收两个 TCP 数据包，就要发送一个 ACK 来确认消息。

ACK 包括两个信息：
- **期待要收到的下一个数据包的编号**
- **接收方的接收窗口的剩余容量**

刚开始通信的时候，Linux 内核默认的发送窗口为10，开始的时候，发送得较慢，然后根据丢包的情况，调整速率：如果不丢包，就加快发送速度；如果丢包，就降低发送速度。这就是慢启动。

### 丢包处理机制

发送方收到三个连续的重复 ACK，或超时没有收到 ACK，就会确认丢包，从而再次发送这个包（重传）。

### TCP 和 UDP 的区别

1. TCP 是面向连接的，必须和对方建立可靠的连接，经过三次握手才能建立起来。



参考资料：

[为什么 TCP 建立连接需要三次握手](https://draveness.me/whys-the-design-tcp-three-way-handshake/)