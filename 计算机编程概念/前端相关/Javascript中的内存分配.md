### 内存分配

`https://juejin.im/post/5c189120f265da611204f194`

```
基本类型变量：标识符与值都存放在栈内存中（数据大小固定，由系统自动分配内存空间）
引用类型变量：栈内存中存放标识符与指向堆内存中值的地址，堆内存中存放具体值（数据大小可变，例如对象可随意增删属性，分配内存的大小取决于代码）
```

var a = 1
// 函数的参数传递与变量复制传递表现一致，也是按栈内存内的值进行传递，因为本质上来说，函数传参就是把传入的实参拷贝赋值给形参。
function test(number) {
  number = 3
  console.log(a)
}
test(a) // 1

var a = {num: 1}
function test(number) {
  number.num = 3
  console.log(a)
}
test(a) // { num: 3 }

### 为什么会有栈内存和堆内存之分

通常与垃圾回收机制有关。为了使程序运行时占用的内存最小。

当一个方法执行时，每个方法都会建立自己的内存栈，在这个方法内定义的变量将会逐个放入这块栈内存里，随着方法的执行结束，这个方法的内存栈也将自然销毁了。因此，所有在方法中定义的变量都是放在栈内存中的；

当我们在程序中创建一个对象时，这个对象将被保存到运行时数据区中，以便反复利用（因为对象的创建成本通常较大），这个运行时数据区就是堆内存。堆内存中的对象不会随方法的结束而销毁，即使方法结束后，这个对象还可能被另一个引用变量所引用（方法的参数传递时很常见），则这个对象依然不会被销毁，只有当一个对象没有任何引用变量引用它时，系统的垃圾回收机制才会在核实的时候回收它。